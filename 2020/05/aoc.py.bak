#!/usr/bin/env python

import re
import math

def midpoint_low(min, max):
    return math.floor((min + max) / 2)

def midpoint_high(min, max):
    return math.ceil((min + max) / 2)


def main():
    print("Day05")

    filepath = '/Users/dkim/Work/AOC2020/Day05/input.txt'
    with open(filepath) as f:
        passes = f.read()

    seats = [0] * 1024

    highest = 0
    min_row = 0
    max_row = 127 
    min_col = 0 
    max_col = 7 
    print("{},{} {},{}".format(min_row, max_row, min_col, max_col))
    for bp in passes:
        if bp == 'F':
            print("F: move max_row")
            max_row = midpoint_low(min_row, max_row)
            print("{},{} {},{}".format(min_row, max_row, min_col, max_col))
        elif bp == 'B':
            print("B: move min_row")
            min_row = midpoint_high(min_row, max_row)
            print("{},{} {},{}".format(min_row, max_row, min_col, max_col))
        elif bp == 'L':
            print("L: move max_col")
            max_col = midpoint_low(min_col, max_col)
            print("{},{} {},{}".format(min_row, max_row, min_col, max_col))
        elif bp == 'R':
            print("R: move min_col")
            min_col = midpoint_high(min_col, max_col)
            print("{},{} {},{}".format(min_row, max_row, min_col, max_col))
        elif bp == '\n':
            assert(min_row == max_row)
            assert(min_col == max_col)
            current = min_row*8 + min_col
            seats[current] = 1
            if current > highest:
                highest = current
          #  print("{},{} {},{}".format(min_row, max_row, min_col, max_col))
            min_row = 0
            max_row = 127 
            min_col = 0 
            max_col = 7 
    assert(min_row == max_row)
    assert(min_col == max_col)
    current = min_row*8 + min_col
    seats[current] = 1
    if current > highest:
        highest = current

    print(highest)
    a = 80
    while a < 1024:
        if seats[a] == 0:
            if seats[a-1] != 0 and seats[a+1] != 0:
                print (a)
        a += 1

main()